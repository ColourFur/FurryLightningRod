extends layout

block content
    link(rel="stylesheet" href="/stylesheets/report.css")
    script(src="/javascripts/report.js")
    .row
        //- 嵌套还是用了原版html XD
        <h3><i class="fa fa-angle-left btn-back" aria-hidden="true" onclick="j2where('/')"></i>    举报</h3>
    hr
    .container
        .alert#returnAlert
            strong.alert-heading#returnAlertHeading
        form
            .form-group.QQ
                label(for="QQ") QQ
                <input class="form-control" id="QQ" type="text" required="required" name="QQ" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">
            .form-group.name
                label(for="name") 名字（最好是圈名，QQ昵称也可以）
                input.form-control#name(type="text")
            .form-group.tag
                label(for="tag") 标签（可多选，可不选）
                input.form-control#tag(type="text" placeholder="")
            .form-group.reason
                label(for="reason") 原因（越具体越好）
                textarea.form-control#reason(type="text" placeholder="")
            //- .form-group.img-upload.input-group
            //-     .input-group-prepend
            //-         spawn.input-group-text#spanForImgUpload 上传图片
            //-     .custom-file
            //-         input.custom-file-input#imgUpload(type="file" aria-describedby="spanForImgUpload")
            //-         label.custom-file-label(for="imgUpload") 选择文件
        #upload
            input.d-none#fileUpload(type="file" name="fileUpload" style="width:0;height:0")
            button.btn.btn-outline-primary#fileOpenFolder
                i.fa.fa-folder-open-o
            button.d-none.btn.btn-outline-secondary#fileUploadAll
                i.fa.fa-upload
            .upload-container
                ul#h5ImgUploadList
        button.btn.btn-danger(onclick="addOne()") 提交
    script(src="/javascripts/img_upload.js")
    script.
        window.onload = function() {  //TODO: 可能会出现BUG的地方 -- 多次对同一个全局变量赋值，可能会出现值被覆盖的问题
            // BUG解决
            let old_load = window.onload;
            if (old_load)
                old_load();

            let targetQQ = !{JSON.stringify(targetQQ)}
            if(targetQQ){$('input#QQ').attr('value',targetQQ)}
        }